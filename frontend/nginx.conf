load_module modules/ngx_http_headers_more_filter_module.so;

pid        /tmp/nginx.pid;
error_log  /var/log/nginx/error.log notice;

events{}

http {
    server_tokens off;
    more_clear_headers Server;
    include /etc/nginx/mime.types;
    server {
         listen 30080;
         server_name localhost;
         root /usr/share/nginx/html;
         index index.html;

         add_header Strict-Transport-Security "max-age=31536000 ; includeSubDomains";
         add_header X-Frame-Options DENY;
         add_header X-Content-Type-Options nosniff;
         add_header Content-Security-Policy "default-src 'unsafe-inline' 'self'; connect-src login.microsoftonline.com *-rcd-anonymized-video-files.s3.amazonaws.com 'self'; media-src *-rcd-anonymized-video-files.s3.amazonaws.com; img-src 'self' data:;";

         location / {
            try_files $uri $uri/ /index.html;
         }
    }
}
